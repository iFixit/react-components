import { Meta, Canvas, Story } from '@storybook/addon-docs/blocks';
import {
   Box,
   BoxProps,
   chakra,
   Divider,
   Flex,
   forwardRef,
   HStack,
   Icon,
   Img,
   List,
   ListIcon,
   ListItem,
   ListItemProps,
   ListProps,
   Menu,
   MenuButton,
   MenuItem,
   MenuItemProps,
   MenuList,
   SimpleGrid,
   Stack,
   StackProps,
   Text,
   TextProps,
} from '@chakra-ui/react';
import { FlagIcon } from '../FlagIcon';
import {
   FacebookLogo,
   TwitterLogo,
   InstagramLogo,
   YoutubeLogo,
   RepairOrgLogo,
   Globe,
} from '../../icons';
import {
   Footer,
   FooterMenuList,
   FooterMenuItem,
   FooterMenuLink,
   StoreMenuButton,
   StoreFlagBackdrop,
   StoreMenuItem,
   StoreName,
   StoreCurrency,
   FooterLink,
   FooterPartnerLink,
} from '.';
import partners from './partners.json';
import links from './links.json';
import stores from './stores.json';

<Meta
   title="UI / Footer"
   parameters={{
      docs: {
         source: {
            type: 'code',
         },
      },
   }}
/>

# Footer

The footer is composed by using standard Chakra components along with custom defined components that are exported by this library.
In order to use the footer just copy the code below and import the components into your project.
Please note that the example uses json data for generate some parts of the footer, so you need to replace that with data
coming from API or CMS.

<Canvas>
   <Story name="default" args={{}}>
      {(args) => (
         <Footer>
            <SimpleGrid
               columns={{ base: 1, sm: 3, lg: 4 }}
               spacing="4"
               px={{ base: 5, sm: 10 }}
               py="10"
               autoFlow="row"
            >
               {links.map((linklist, index) => (
                  <FooterMenuList key={index}>
                     {linklist.map((link) => {
                        return (
                           <FooterMenuItem key={link.label}>
                              <FooterMenuLink href={link.url}>{link.label}</FooterMenuLink>
                           </FooterMenuItem>
                        );
                     })}
                  </FooterMenuList>
               ))}
               <FooterMenuList>
                  <FooterMenuItem>
                     <FooterMenuLink href="#" icon={FacebookLogo}>
                        Facebook
                     </FooterMenuLink>
                  </FooterMenuItem>
                  <FooterMenuItem>
                     <FooterMenuLink href="#" icon={TwitterLogo}>
                        Twitter
                     </FooterMenuLink>
                  </FooterMenuItem>
                  <FooterMenuItem>
                     <FooterMenuLink href="#" icon={InstagramLogo}>
                        Instagram
                     </FooterMenuLink>
                  </FooterMenuItem>
                  <FooterMenuItem>
                     <FooterMenuLink href="#" icon={YoutubeLogo}>
                        Youtube
                     </FooterMenuLink>
                  </FooterMenuItem>
                  <FooterMenuItem>
                     <FooterMenuLink href="#" icon={RepairOrgLogo}>
                        Repair.org
                     </FooterMenuLink>
                  </FooterMenuItem>
               </FooterMenuList>
               <SimpleGrid columns={3} spacing="4" gridColumnEnd={{ sm: 'span 3', lg: 'auto' }}>
                  {partners.map((partner) => {
                     return (
                        <FooterPartnerLink key={partner.name} href="#">
                           <Img
                              h="full"
                              mx="auto"
                              objectFit="contain"
                              src={partner.logo}
                              alt={partner.name}
                           />
                        </FooterPartnerLink>
                     );
                  })}
               </SimpleGrid>
            </SimpleGrid>
            <Divider borderColor="gray.700" />
            <SimpleGrid
               columns={{ base: 1, lg: 2 }}
               py="6"
               px={{ base: 5, sm: 10 }}
               spacing={{
                  base: 10,
               }}
            >
               <Stack
                  direction={{ base: 'row' }}
                  spacing={{
                     base: 2,
                     sm: 12,
                  }}
                  justify={{
                     base: 'space-between',
                     sm: 'center',
                     lg: 'flex-start',
                  }}
               >
                  <Menu>
                     <StoreMenuButton
                        icon={
                           <StoreFlagBackdrop>
                              <FlagIcon code="US" />
                           </StoreFlagBackdrop>
                        }
                     >
                        Region
                     </StoreMenuButton>
                     <MenuList>
                        {stores.map((store) => {
                           return (
                              <StoreMenuItem key={store.code} as="a" href={store.url}>
                                 <FlagIcon code={store.code.toUpperCase()} />
                                 <StoreName>{store.name}</StoreName>
                                 <StoreCurrency>{store.currency}</StoreCurrency>
                              </StoreMenuItem>
                           );
                        })}
                     </MenuList>
                  </Menu>
                  <FooterLink href="#" icon={Globe}>
                     Help translate
                  </FooterLink>
               </Stack>
               <Stack
                  justify={{
                     base: 'flex-start',
                     sm: 'center',
                     lg: 'flex-end',
                  }}
                  direction={{
                     base: 'column',
                     sm: 'row',
                  }}
                  spacing={{
                     base: 2,
                     sm: 4,
                  }}
               >
                  <FooterLink href="#">Licensed under creative commons</FooterLink>
                  <Divider
                     opacity={{
                        base: 1,
                        sm: 1,
                     }}
                     orientation="vertical"
                     borderColor="gray.700"
                  />
                  <FooterLink href="#">Privacy</FooterLink>
                  <Divider
                     opacity={{
                        base: 1,
                        sm: 1,
                     }}
                     orientation="vertical"
                     borderColor="gray.700"
                  />
                  <FooterLink href="#">Legal</FooterLink>
               </Stack>
            </SimpleGrid>
         </Footer>
      )}
   </Story>
</Canvas>

## Using NextJS links

In order to enable faster navigation when using NextJS, you should wrap links using the Next Link component.

```tsx
import NextLink from "next/link";

// ...

<NextLink href="#" passHref>
   <FooterMenuLink>Customer support</FooterMenuLink>
</NextLink>>
```
